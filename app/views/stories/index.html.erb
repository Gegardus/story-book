<%= turbo_frame_tag "create_story_form" do %>
  <%= link_to 'Create new story', new_story_path, class: 'btn btn-dark', data: { turbo_frame: 'create_story_form' } %>
<% end %>

<h2 class='mt-3'>Stories</h2>

<!--
In order to prevent updates from being lost in space, 
the channel name given to turbo_stream_from and broadcast action must match. 
In this case, the channel name is “stories”.
actions like append, prepend, remove, etc. can also be used with broadcast. 
On the index page, it will prepend the newly created story.
-->
<%= turbo_stream_from 'stories' %>
<%= turbo_frame_tag "stories" do %>
  <% if @stories.any? %>
    <%= render partial: 'story', collection: @stories %>
  <% else %>
    <p>No stories available</p>
  <% end %>
<% end %>
